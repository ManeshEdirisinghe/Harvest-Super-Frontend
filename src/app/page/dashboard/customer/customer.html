<div class="p-6">

  <!-- Header -->
  <div class="flex items-center justify-between mb-6">
    <h1 class="text-2xl font-bold text-gray-800">Customers</h1>
    <button (click)="showForm = !showForm"
      class="px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 focus:ring-4 focus:ring-green-300 transition shadow-md">
      {{ showForm ? 'Close Form' : '+ Add Customer' }}
    </button>
  </div>

  <!-- Add Customer Form -->
  @if (showForm) {
    <div class="mb-6 p-6 bg-white border border-gray-200 rounded-2xl shadow-md">
      <h2 class="text-lg font-bold text-gray-800 mb-4">Add New Customer</h2>
      <form (ngSubmit)="addCustomer()" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        <div>
          <label class="block mb-1 text-sm font-medium text-gray-700">Title</label>
          <input type="text" [(ngModel)]="newCustomer.title" name="title" required
            class="w-full px-3 py-2.5 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500"
            placeholder="Enter title">
        </div>
        <div>
          <label class="block mb-1 text-sm font-medium text-gray-700">Name</label>
          <input type="text" [(ngModel)]="newCustomer.custname" name="custname" required
            class="w-full px-3 py-2.5 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500"
            placeholder="Enter customer name">
        </div>
        <div>
          <label class="block mb-1 text-sm font-medium text-gray-700">Date of Birth</label>
          <input type="date" [(ngModel)]="newCustomer.dob" name="dob" required
            class="w-full px-3 py-2.5 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500">
        </div>
        <div>
          <label class="block mb-1 text-sm font-medium text-gray-700">Salary</label>
          <input type="number" [(ngModel)]="newCustomer.salary" name="salary" required
            class="w-full px-3 py-2.5 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500"
            placeholder="Enter salary">
        </div>
        <div>
          <label class="block mb-1 text-sm font-medium text-gray-700">Address</label>
          <input type="text" [(ngModel)]="newCustomer.address" name="address" required
            class="w-full px-3 py-2.5 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500"
            placeholder="Enter address">
        </div>
        <div>
          <label class="block mb-1 text-sm font-medium text-gray-700">City</label>
          <input type="text" [(ngModel)]="newCustomer.city" name="city" required
            class="w-full px-3 py-2.5 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500"
            placeholder="Enter city">
        </div>
        <div>
          <label class="block mb-1 text-sm font-medium text-gray-700">Province</label>
          <input type="text" [(ngModel)]="newCustomer.province" name="province" required
            class="w-full px-3 py-2.5 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500"
            placeholder="Enter province">
        </div>
        <div>
          <label class="block mb-1 text-sm font-medium text-gray-700">Postal Code</label>
          <input type="text" [(ngModel)]="newCustomer.postalcode" name="postalcode" required
            class="w-full px-3 py-2.5 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500"
            placeholder="Enter postal code">
        </div>
        <div class="lg:col-span-3 md:col-span-2 flex gap-3 mt-2">
          <button type="submit"
            class="px-5 py-2.5 text-sm font-semibold text-white bg-green-600 rounded-lg hover:bg-green-700 focus:ring-4 focus:ring-green-300 transition shadow-md">
            Save Customer
          </button>
          <button type="button" (click)="showForm = false"
            class="px-5 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition">
            Cancel
          </button>
        </div>
      </form>
    </div>
  }

  <!-- Customers Table -->
  <div class="relative overflow-x-auto shadow-md rounded-lg border border-gray-200">
    <table class="w-full text-sm text-left text-gray-600">
      <thead class="text-xs text-gray-700 uppercase bg-gray-50 border-b border-gray-200">
        <tr>
          <th scope="col" class="px-6 py-3">No.</th>
          <th scope="col" class="px-6 py-3">ID</th>
          <th scope="col" class="px-6 py-3">Title</th>
          <th scope="col" class="px-6 py-3">Name</th>
          <th scope="col" class="px-6 py-3">DOB</th>
          <th scope="col" class="px-6 py-3">Salary</th>
          <th scope="col" class="px-6 py-3">Address</th>
          <th scope="col" class="px-6 py-3">City</th>
          <th scope="col" class="px-6 py-3">Province</th>
          <th scope="col" class="px-6 py-3">Postal Code</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let customer of customerList index as i" class="bg-white border-b border-gray-100 hover:bg-green-50 transition">
          <td class="px-6 py-4 font-medium text-gray-800">{{i + 1}}</td>
          <td class="px-6 py-4 font-medium text-gray-800">{{customer.id}}</td>
          <td class="px-6 py-4">{{customer.title}}</td>
          <td class="px-6 py-4">{{customer.name}}</td>
          <td class="px-6 py-4">{{customer.dob}}</td>
          <td class="px-6 py-4">{{customer.salary}}</td>
          <td class="px-6 py-4">{{customer.address}}</td>
          <td class="px-6 py-4">{{customer.city}}</td>
          <td class="px-6 py-4">{{customer.province}}</td>
          <td class="px-6 py-4">{{customer.postalCode}}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Summary -->
  <div class="mt-4 text-sm text-gray-500">
    Total Customers: <span class="font-semibold text-gray-800">{{ customerList?.length }}</span>
  </div>

</div>
