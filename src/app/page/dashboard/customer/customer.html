<div class="p-6">

  <!-- Header -->
  <div class="flex items-center justify-between mb-6">
    <h1 class="text-2xl font-bold text-gray-800">Customers</h1>
    <button (click)="toggleAddForm()"
      class="px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 focus:ring-4 focus:ring-green-300 transition shadow-md">
      {{ showForm ? 'Close Form' : '+ Add Customer' }}
    </button>
  </div>

  <!-- Add Customer Form -->
  @if (showForm) {
  <div class="bg-white border border-default-medium rounded-lg p-6 shadow-md mb-6">
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-xl font-bold text-heading">Add New Customer</h2>
      <button (click)="toggleAddForm()" class="text-body hover:text-heading transition-all">
        <svg class="w-6 h-6" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>

    <div class="space-y-4">
      <!-- ID Field -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-semibold text-heading mb-2">Customer ID</label>
          <input
            type="text"
            [(ngModel)]="customerObj.id"
            placeholder="Enter customer ID"
            class="w-full px-4 py-2.5 bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded-lg focus:ring-2 focus:ring-brand focus:border-transparent"
          />
        </div>

        <!-- Name Field -->
        <div>
          <label class="block text-sm font-semibold text-heading mb-2">Name</label>
          <input
            type="text"
            [(ngModel)]="customerObj.name"
            placeholder="Enter customer name"
            class="w-full px-4 py-2.5 bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded-lg focus:ring-2 focus:ring-brand focus:border-transparent"
          />
        </div>
      </div>

      <!-- Title Field -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-semibold text-heading mb-2">Title</label>
          <input
            type="text"
            [(ngModel)]="customerObj.title"
            placeholder="Enter title (Mr./Ms./Dr.)"
            class="w-full px-4 py-2.5 bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded-lg focus:ring-2 focus:ring-brand focus:border-transparent"
          />
        </div>

        <!-- Date of Birth Field -->
        <div>
          <label class="block text-sm font-semibold text-heading mb-2">Date of Birth</label>
          <input
            type="date"
            [(ngModel)]="customerObj.dob"
            class="w-full px-4 py-2.5 bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded-lg focus:ring-2 focus:ring-brand focus:border-transparent"
          />
        </div>
      </div>

      <!-- Address Field -->
      <div>
        <label class="block text-sm font-semibold text-heading mb-2">Address</label>
        <input
          type="text"
          [(ngModel)]="customerObj.address"
          placeholder="Enter street address"
          class="w-full px-4 py-2.5 bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded-lg focus:ring-2 focus:ring-brand focus:border-transparent"
        />
      </div>

      <!-- City and Province Fields -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-semibold text-heading mb-2">City</label>
          <input
            type="text"
            [(ngModel)]="customerObj.city"
            placeholder="Enter city"
            class="w-full px-4 py-2.5 bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded-lg focus:ring-2 focus:ring-brand focus:border-transparent"
          />
        </div>

        <div>
          <label class="block text-sm font-semibold text-heading mb-2">Province</label>
          <input
            type="text"
            [(ngModel)]="customerObj.province"
            placeholder="Enter province"
            class="w-full px-4 py-2.5 bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded-lg focus:ring-2 focus:ring-brand focus:border-transparent"
          />
        </div>
      </div>

      <!-- Postal Code and Salary Fields -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-semibold text-heading mb-2">Postal Code</label>
          <input
            type="text"
            [(ngModel)]="customerObj.postalCode"
            placeholder="Enter postal code"
            class="w-full px-4 py-2.5 bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded-lg focus:ring-2 focus:ring-brand focus:border-transparent"
          />
        </div>

        <div>
          <label class="block text-sm font-semibold text-heading mb-2">Salary</label>
          <input
            type="number"
            [(ngModel)]="customerObj.salary"
            placeholder="Enter salary"
            class="w-full px-4 py-2.5 bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded-lg focus:ring-2 focus:ring-brand focus:border-transparent"
          />
        </div>
      </div>

      <!-- Form Actions -->
      <div class="flex gap-3 pt-4">
        <button
          type="button"
          (click)="addCustomer()"
          class="px-6 py-2.5 bg-brand text-white font-semibold rounded-lg hover:bg-brand-strong transition-all disabled:bg-gray-400 disabled:cursor-not-allowed"
        >
          Save Customer
        </button>
        <button
          type="button"
          (click)="toggleAddForm()"
          class="px-6 py-2.5 bg-neutral-secondary-medium text-heading font-semibold rounded-lg hover:bg-neutral-tertiary transition-all"
        >
          Cancel
        </button>
      </div>
    </div>
  </div>
  }

  <!-- Customers Table -->
  <div class="relative overflow-x-auto shadow-md rounded-lg border border-gray-200">
    <table class="w-full text-sm text-left text-gray-600">
      <thead class="text-xs text-gray-700 uppercase bg-gray-50 border-b border-gray-200">
        <tr>
          <th scope="col" class="px-6 py-3">No.</th>
          <th scope="col" class="px-6 py-3">ID</th>
          <th scope="col" class="px-6 py-3">Title</th>
          <th scope="col" class="px-6 py-3">Name</th>
          <th scope="col" class="px-6 py-3">DOB</th>
          <th scope="col" class="px-6 py-3">Salary</th>
          <th scope="col" class="px-6 py-3">Address</th>
          <th scope="col" class="px-6 py-3">City</th>
          <th scope="col" class="px-6 py-3">Province</th>
          <th scope="col" class="px-6 py-3">Postal Code</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let customer of customerList index as i" class="bg-white border-b border-gray-100 hover:bg-green-50 transition">
          <td class="px-6 py-4 font-medium text-gray-800">{{i + 1}}</td>
          <td class="px-6 py-4 font-medium text-gray-800">{{customer.id}}</td>
          <td class="px-6 py-4">{{customer.title}}</td>
          <td class="px-6 py-4">{{customer.name}}</td>
          <td class="px-6 py-4">{{customer.dob}}</td>
          <td class="px-6 py-4">{{customer.salary}}</td>
          <td class="px-6 py-4">{{customer.address}}</td>
          <td class="px-6 py-4">{{customer.city}}</td>
          <td class="px-6 py-4">{{customer.province}}</td>
          <td class="px-6 py-4">{{customer.postalCode}}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Summary -->
  <div class="mt-4 text-sm text-gray-500">
    Total Customers: <span class="font-semibold text-gray-800">{{ customerList?.length }}</span>
  </div>

</div>
